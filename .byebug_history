continue
@all_carriers_two_conditions.count
@all_carriers_two_conditions
continue
@all_carriers_two_conditions.count
@all_carriers_two_conditions
continue
@all_carriers_two_conditions
continue
Carrier.where("array_to_string(areas_covered, '||') ILIKE ? AND array_to_string(areas_covered, '||') ILIKE ? AND favorite_products @> ARRAY[?]::varchar[] AND visible = true", "%" + @query[:pickup_prefecture] + "%", "%" + @query[:delivery_prefecture] + "%", @query[:category]).count
continue
Carrier.where("array_to_string(areas_covered, '||') ILIKE ? AND array_to_string(areas_covered, '||') ILIKE ? AND favorite_products @> ARRAY[?]::varchar[] AND visible = true", "%" + @query[:pickup_prefecture] + "%", "%" + @query[:delivery_prefecture] + "%", @query[:category]).count
Carrier.where("array_to_string(areas_covered, '||') ILIKE ? AND array_to_string(areas_covered, '||') ILIKE ? AND favorite_products @> ARRAY[?]::varchar[] AND visible = true", "%" + @query[:pickup_prefecture] + "%", "%" + @query[:delivery_prefecture] + "%", @query[:category])
@all_carriers_two_conditions.count
continue
Carrier.where("array_to_string(areas_covered, '||') ILIKE ? AND array_to_string(areas_covered, '||') ILIKE ? ", "%" + @query[:pickup_prefecture] + "%", "%" + @query[:delivery_prefecture] + "%").count
Carrier.where("array_to_string(areas_covered, '||') ILIKE ? AND array_to_string(areas_covered, '||') ILIKE ? ", "%" + @query[:pickup_prefecture] + "%", "%" + @query[:delivery_prefecture] + "%")
continue
Carrier.where("array_to_string(areas_covered, '||') ILIKE ? ", "%" + @query[:pickup_prefecture] + "%")
Carrier.where("array_to_string(areas_covered, '') ILIKE ? ", Carrier.where("array_to_string(areas_covered, '||') ILIKE ? ", "%" + @query[:pickup_prefecture] + "%")@query[:pickup_prefecture])
Carrier.where("array_to_string(areas_covered, '') ILIKE ? ", @query[:pickup_prefecture])
Carrier.where("array_to_string(areas_covered, '') ILIKE %?% ", @query[:pickup_prefecture])
Carrier.where("array_to_string(areas_covered, '') ILIKE ? ", @query[:pickup_prefecture])
Carrier.where("array_to_string(areas_covered, '') ILIKE ? ", @query[:pickup_prefecture]%)
Carrier.where("array_to_string(areas_covered, '') ILIKE ? ", "%@query[:pickup_prefecture]%")
Carrier.where("array_to_string(areas_covered, '') ILIKE ? ", %"@query[:pickup_prefecture]"%)
Carrier.where("array_to_string(areas_covered, '') ILIKE ? ", %@query[:pickup_prefecture]%)
Carrier.where("array_to_string(areas_covered, '') ILIKE ? ", "%神奈川県%")
Carrier.where("array_to_string(areas_covered, '') ILIKE %?% ", @query[:pickup_prefecture])
Carrier.where("array_to_string(areas_covered, '') ILIKE ? ", "%神奈川県%")
Carrier.where("array_to_string(areas_covered, '') ILIKE %?% ", @query[:pickup_prefecture])
Carrier.where("array_to_string(areas_covered, '') ILIKE ? ", "%東京%")
Carrier.where("array_to_string(areas_covered, '') ILIKE ? ", @query[:pickup_prefecture])
Carrier.where("array_to_string(areas_covered, '') ILIKE %?% ", @query[:pickup_prefecture])
Carrier.where("array_to_string(areas_covered, '') ILIKE ? ", "%東京%")
Carrier.where("array_to_string(areas_covered, '||') ILIKE %?% ", @query[:pickup_prefecture])
Carrier.where("array_to_string(areas_covered, '||') ILIKE ? ", @query[:pickup_prefecture])
Carrier.where("array_to_string(areas_covered, '') ILIKE ? ", "%東京%")Carrier.where("array_to_string(areas_covered, '||') ILIKE ? ", @query[:pickup_prefecture])
Carrier.where("array_to_string(areas_covered, '') ILIKE ? ", "%東京%")
Carrier.where("array_to_string(areas_covered, '||') ILIKE ? ", "%@query[:pickup_prefecture]%")
array_to_string(areas_covered, '||')
Carrier.where("array_to_string(areas_covered, '') ILIKE ? ", "%東京%")
array_to_string("areas_covered")
array_to_string(areas_covered)
array_to_string
Carrier.where("areas_covered @> ARRAY[?]::varchar[]", ["東京", "東京"])
Carrier.where("areas_covered.join @> ARRAY[?]::varchar[]", ["東京", "東京"])
Carrier.where("areas_covered @> ARRAY[?]::varchar[]", ["東京", "東京"])
Carrier.where("areas_covered.join @> ARRAY[?]::varchar[]", ["東京", "東京"])
Carrier.where("areas_covered @> ARRAY[?]::varchar[]", ["東京", "東京"])
Carrier.where("areas_covered @> ARRAY[?]::varchar[]", ["%東京%", "%東京%"])
Carrier.where("areas_covered @> ARRAY[?]::varchar[]", ["東京%", "東京%"])
Carrier.where("areas_covered @> ARRAY[?]::varchar[]", ["東京%", "東京"])
Carrier.where("areas_covered @> ARRAY[?]::varchar[]", ["東京", "東京"])
Carrier.where("areas_covered @> ARRAY[?]::varchar[]", ["東京都", "東京都"]).count
Carrier.where("areas_covered @> ARRAY[?]::varchar[]", ["東京都", "東京都"])
Carrier.where("areas_covered @> ARRAY[?]::varchar[]", [@query[:pickup_prefecture], @query[:delivery_prefecture]])
a.areas_covered.join(',')
a.areas_covered.join('')
a.areas_covered.join
a.areas_covered
a=Carrier.last
@all_carriers_two_conditions
continue
@all_carriers_two_conditions
continue
@all_carriers_two_conditions
continue
@all_carriers_two_conditions
exit
@all_carriers_two_conditions
      Carrier.where("areas_covered @> ARRAY[?]::varchar[] AND favorite_products @> ARRAY[?]::varchar[]", [@query[:pickup_prefecture], @query[:delivery_prefecture]], @query[:category])
@all_carriers_two_conditions
continue
params
prams
exit
params[:carrier][:vehicles_attributes]["0"][:quantity] == 1
params[:carrier][:vehicles_attributes]["0"][:quantity]
params[:carrier][:vehicles_attributes]["0"]
params[:carrier][:vehicles_attributes]
params[:carrier]
params[:carrier][:visible] == true
params[:carrier][:visible] == 'true'
continue
resource
params[:carrier][:visible] == 'true'
params[:carrier][:visible] == true
true
params[:carrier][:visible]
params[:carrier][:visible].type
params[:carrier][:visible].is
params[:carrier][:visible].is?
params[:carrier][:visible]
params[:carrier]
params
continue
params
exit
@carrier.vehicles
@carrier
continue
params
@carrier
params
continue
@results_with_temp.count
@all_carriers_two_conditions
@all_carriers_two_conditions.count
continue
@results_with_temp.count
@all_carriers_two_conditions.count
@all_carriers_two_conditions
continue
@all_carriers_two_conditions
@results_with_temp.count
@all_carriers_two_conditions.count
continue
@all_carriers_two_conditions
continue
@results_with_temp.count
@all_carriers_two_conditions.count
Shipment::QUERY_NORMAL_TEMP_VEHICLES
continue
@all_carriers_two_conditions.count
@results_with_temp.count
@results_with_temp
continue
cnotinue
@all_carriers_two_conditions
continue
@query[:category]
Carrier.where("areas_covered @> ARRAY[?]::varchar[] AND favorite_products @> ARRAY[?]::varchar[]", [@query[:pickup_prefecture], @query[:delivery_prefecture]], @query[:category])
Carrier.where(id:[1077])
Carrier.where("areas_covered @> ARRAY[?]::varchar[] AND favorite_products @> ARRAY[?]::varchar[]", [@query[:pickup_prefecture], @query[:delivery_prefecture]], @query[:category])
continue
@results_with_temp
@all_carriers_two_conditions
continue
exit
                    [@query[:pickup_prefecture], @query[:delivery_prefecture]], @query[:category])
Carrier.where("areas_covered @> ARRAY[?]::varchar[] AND favorite_products @> ARRAY[?]::varchar[]",
Carrier.all.count
Carrier.all
 @all_carriers_two_conditions
exit
 @all_carriers_two_conditions
continue
@all_carriers_two_conditions
Shipment::QUERY_ALL
continue
@query[:temperature]
@query
continue
@all_carriers_two_conditions.joins(:vehicles).where(vehicles: {feature: @query[:temperature]}).uniq.count
@all_carriers_two_conditions.joins(:vehicles).where(vehicles: {feature: @query[:temperature]}).distinct.count
@all_carriers_two_conditions.joins(:vehicles).where(vehicles: {feature: @query[:temperature]}).distinct
@all_carriers_two_conditions.joins(:vehicles).where(vehicles: {feature: @query[:temperature]}).uniq.count
@all_carriers_two_conditions.joins(:vehicles).where(vehicles: {feature: @query[:temperature]}).count
@all_carriers_two_conditions.joins(:vehicles).where(vehicles: {feature: @query[:temperature]}).uniq.count
@all_carriers_two_conditions.joins(:vehicles).where(vehicles: {feature: @query[:temperature]}).count
@all_carriers_two_conditions.joins(:vehicles).where(vehicles: {feature: @query[:temperature]}).uniq
@results_with_temp
continue
@results_with_temp.count
@results_with_temp
continue
@all_carriers_two_conditions.count
@all_carriers_two_conditions
continue
@all_carriers_two_conditions.count
@all_carriers_two_conditions
continue
@results_with_temp.count
@results_with_temp
continue
@all_carriers_two_conditions.count
continue
@results_with_temp
continue
@results_with_temp.vehicles
@results_with_temp
@results_with_temp.count
continue
@results_with_temp.count
@results_with_temp
continue
@results_with_temp
@results_with_temp.vehicle
@results_with_temp.vehicles
@results_with_temp
@results_with_temp.vehicles
@results_with_temp.count
@results_with_temp
continue
@results_with_temp.count
@results_with_temp
continue
@results_with_temp.count
continue
@all_carriers_two_conditions.count
continue
@all_carriers_two_conditions.count
@all_carriers_two_conditions.includes(:vehicles).count
@all_carriers_two_conditions.includes(:vehicles)
@query[:temperature]
@query
continue
contiue
continue
@all_carriers_two_conditions.includes(:vehicles).where(vehicles: {feature: @query[:temperature]})
continue
@results_with_temp.count
continue
@all_carriers_two_conditions.count
continue
@all_carriers_two_conditions.count
continue
@all_carriers_two_conditions.count
@all_carriers_two_conditions
continue
resource_name
resource
continue
@all_carriers_two_conditions.count
@all_carriers_two_conditions
continue
@pickup.prefecture
@pickup
continue
@carriers_location_condition.count
@carriers_two_conditions.count
@carriers_two_conditions
@all_carriers_location_condition.count
@all_carriers_location_condition
@carriers_two_conditions.count
@carriers_two_conditions
continue
@carriers_two_conditions
@all_carriers_two_conditions
carriers_with_deals
continue
@query
params
continue
query_params.keys
query_params[:category]
query_params[:id]
query_params.attribute
query_params.attributes
query_params
query_params.attributes
query_params.attribute
query_params.attribute_name
query_params.attribute_names
query_params
