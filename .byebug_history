exit
deal.carrier
deal
exit
shipment.deals.find_by(deal_status: 'won')
shipment.deals.find_by(deal_status: 'won').carrier
shipment.deals.find_by(deal_status: 'won')
continue
shipment.deals.find_by(deal_status: 'won').carrier
shipment.deals.find_by(deal_status: 'won')
shipment.deals.find_by(deal_status: 'won').carrier
shipment.deals.find_by(deal_status: 'won')
shipment.deals
shipment.deals.find_by(deal_status: 'won')
continue
shipment.deals.find_by(deal_status: 'won')
continue
shipment.deals.find_by(deal_status: 'won')
continue
exit
shipment.deals.find_by(deal_status: 'won')
continue
shipment.deals.find_by(deal_status: 'won').carrier
exit
shipment.deals.find_by(deal_status: 'won')
shipment.deals.where(deal_status: 'won')
shipment.deals.where(deal_status: 'won').false?
shipment.deals.where(deal_status: 'won')
shipment.deals.where(deal_status: 'won').present?
shipment.deals.where(deal_status: 'won')
shipment.deals.where(deal_status: 'won').true?
shipment.deals.where(deal_status: 'won')
shipment.deals.find_by(deal_status: 'won')
continue
shipment.deals.find_by(deal_status: 'won')
continue
shipment.deals.find_by(deal_status: 'won')
shipment.deals.find_by(deal_status: 'won').present?
continue
shipment.deals.find_by(deal_status: 'won')
shipment.deals.find_by(deal_status: 'won').present?
if shipment.deals.find_by(deal_status: 'won').present?
exit
continue
shipment[:deal][:carrier].present?
shipment[:deal][:carrier]
shipment[:deal][:carrier].email
shipment[:deal][:carrier]
shipment[:deal]
continue
@all_shipments.last.deals.find_by(deal_status: 'won').carrier
@all_shipments.last.deals.find_by(deal_status: 'won')
@all_shipments.last.deals.where(deal_status: 'won')
@all_shipments.last.deals
@all_shipments
exit
s
s =Shipment.find(24)
@all_shipments.last.deals
@all_shipments.last
@all_shipments.last.deals
@all_shipments.last.deals.where(deal_status: 'won')
continue
@all_shipments.last.deals.where(deal_status: 'won')
@all_shipments.last.deals
@all_shipments.last
exit
@all_shipments.first.deals.blank?
@all_shipments.first.deals.blank>?
@all_shipments.first.deals.blank>
@all_shipments.first.deals
@all_shipments.first.deals.nil?
@all_shipments.first.deals.present?
@all_shipments.first.deals.persisted
@all_shipments.first.deals.persist?
@all_shipments.first.deals.persisted?
@all_shipments.first.deals.present?
@all_shipments.first.deals
@all_shipments.last.deals
@all_shipments.first.deals
continue
@deals.first
@deals
continue
@deals.first.shipment.locations.find_by(is_for: 'pickup')
@deals.first.shipment.locations
@deals.first.shipment
@deals.first.shipement
@deals.first
@deals.first.shipment
@deals.first
@deals
continue
@shipments.first.shipment
@shipments.first
@shipments
continue
@shipments.last.id
@shipments.last
@shipments.last[:shipment].id
@shipments.last[:shipment]
continue
@shipments.last[:shipment].deals
@shipments
@shipments.first[:shipment].deals
@shipments.first[:shipment].deals.first
@shipments.first[:shipment].deals
@shipments.first[:shipment].deal
@shipments.first[:shipment].deals
@shipments.first[:shipment]
continue
@shipments.first[:pickup][:location].facility[:name]
@shipments.first[:pickup][:location].facility
@shipments.first[:pickup][:location].commodity
@shipments.first[:pickup][:location].id
@shipments.first[:pickup][:location]
exit
@shipments.first[:pickup]
@shipments.first[:shipment]
Shipment.find(44).locations
Shipment.find(44).locations.first.facility
Shipment.find(44).locations.first
Shipment.find(44).locations
@shipments.first
@shipments
continue
@shipments.first[:shipment].shipper[:email]
@shipments.first[:shipment].shipper.email
@shipments.first[:shipment].shipper
@shipments.first[:shipment][:shipper]
@shipments.first[:shipment].shipper
@shipments.first[:shipment].rate
@shipments.first[:shipment][:rate]
@shipments.first[:shipment]
@shipments.first[:pickup].prefecture
@shipments.first[:pickup]
@shipments.first[:shipment]
@shipments.first[:shipment][:pickup]
@shipments.first[:shipment].pickup
@shipments.first.shipment
@shipments.first[:shipment]
@shipments.first
exit
continue
@shipments.first[:shipment][:distance]
@shipments.first[:shipment]
@shipments.first
@shipments
continue
Deal.where("id > ?", 10)
Deal.where(id: 16)
Deal.all
Deal.where(id > 10)
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {id:[32..50]})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {id:[32..50]})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {id:32})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'})
exit
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'})
policy_scope(Deal).includes(:shipment).wh
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'}).count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'})
continue
@shipments
continue
@all_shipments
exit
policy_scope(Deal).includes(:shipment).where("shipments.id > 27").count
policy_scope(Deal).includes(:shipment).where("shipments.id > 27).count
policy_scope(Deal).includes(:shipment).where(shipments: {id: [27..50]}).count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {id: [27..50]}).count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {id: [27..33]}).count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit', id: [27..33]}).count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit', id: [27..33]})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit', id: 27})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit', id: 16})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'}).count
continue
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'}).count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'})
Deal.find(3).shipment
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'}).count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'})
continue
policy_scope(Deal).includes(:shipment).where(shipments: {transit_status: 'pre-transit'})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won').count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won')
policy_scope(Deal).includes(:shipment).where(deal_status: 'won').count
continue
policy_scope(Deal).includes(:shipment).where(shipments: {transit_status: 'pre-transit'})
policy_scope(Deal).includes(:shipment).where(shipments: {transit_status: 'pre-transit'}).distinct.count
policy_scope(Deal).includes(:shipment).where(shipments: {transit_status: 'pre-transit'}).distinct
policy_scope(Deal).includes(:shipment).where(shipments: {transit_status: 'pre-transit'}).count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'}).count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'})
continue
exit
policy_scope(Deal).includes(:shipment).where(deal_status: 'won').count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won')
exit
policy_scope(Deal).includes(:shipment).where(shipments: {id:e 23})
policy_scope(Deal).includes(:shipment).where(shipments: {id: 23})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {id> 23})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {id: 23})
continue
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'in-transit'})
policy_scope(Deal)
policy_scope(Deal).count
policy_scope(Deal)
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'in-transit'})
Deal.where(deal_status:'won').count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'in-transit'})
Deal.where(deal_status:'won').count
Deal.where(deal_status:'won')
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'in-transit'})
continue
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'in-transit'})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'in-transit')
policy_scope(Deal).includes(:shipment).where(deal_status: 'won')
policy_scope(Deal).includes(:shipment)
policy_scope(Deal)
continue
all_won_deals.includes(:shipment).where(shipments: {transit_status: 'in-transit'})
all_won_deals.includes(:shipments).where(shipments: {transit_status: 'in-transit'})
all_won_deals.includes(:shipment).where(shipments: {transit_status: 'in-transit'})
all_won_deals.includes(:shipment).where(shipments: {transit_status: 'in-transit'}).count
all_won_deals.includes(:shipment).where(shipments: {transit_status: 'in-transit'})
all_won_deals.includes(:shipment).where('shipments.transit_status="in-transit"')
all_won_deals.includes(:shipment)
all_won_deals.include(:shipment)
all_won_deals.count
all_won_deals
policy_scope(Deal).where(deal_status: 'won')
policy_scope(Deal)
Deal.includes(:shipment).where(shipments: {transit_status: 'in-transit'})
policy_scope(Deal).includes(:shipment).(shipments: {transit_status: 'in-transit'})
all_won_deals.includes(:shipment).(shipments: {transit_status: 'in-transit'})
all_won_deals.count
all_won_deals
continue
@deals.first.shipment
@deals.first
@deals
exit
@deals
exit
@deals
continue
exit
@deals
@deals.joins(:shipment).where('shipments.shipment_status="in-transit"')
@deals.includes(:shipment).where('shipments.shipment_status="in-transit"')
@deals.includes(:shipment).where('shipment.shipment_status="in-transit"')
