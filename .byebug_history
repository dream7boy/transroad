exit
policy_scope(Deal).includes(:shipment).where("shipments.id > 27").count
policy_scope(Deal).includes(:shipment).where("shipments.id > 27).count
policy_scope(Deal).includes(:shipment).where(shipments: {id: [27..50]}).count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {id: [27..50]}).count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {id: [27..33]}).count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit', id: [27..33]}).count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit', id: [27..33]})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit', id: 27})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit', id: 16})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'}).count
continue
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'}).count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'})
Deal.find(3).shipment
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'}).count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'})
continue
policy_scope(Deal).includes(:shipment).where(shipments: {transit_status: 'pre-transit'})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won').count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won')
policy_scope(Deal).includes(:shipment).where(deal_status: 'won').count
continue
policy_scope(Deal).includes(:shipment).where(shipments: {transit_status: 'pre-transit'})
policy_scope(Deal).includes(:shipment).where(shipments: {transit_status: 'pre-transit'}).distinct.count
policy_scope(Deal).includes(:shipment).where(shipments: {transit_status: 'pre-transit'}).distinct
policy_scope(Deal).includes(:shipment).where(shipments: {transit_status: 'pre-transit'}).count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'}).count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'pre-transit'})
continue
exit
policy_scope(Deal).includes(:shipment).where(deal_status: 'won').count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won')
exit
policy_scope(Deal).includes(:shipment).where(shipments: {id:e 23})
policy_scope(Deal).includes(:shipment).where(shipments: {id: 23})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {id> 23})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {id: 23})
continue
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'in-transit'})
policy_scope(Deal)
policy_scope(Deal).count
policy_scope(Deal)
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'in-transit'})
Deal.where(deal_status:'won').count
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'in-transit'})
Deal.where(deal_status:'won').count
Deal.where(deal_status:'won')
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'in-transit'})
continue
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'in-transit'})
policy_scope(Deal).includes(:shipment).where(deal_status: 'won', shipments: {transit_status: 'in-transit')
policy_scope(Deal).includes(:shipment).where(deal_status: 'won')
policy_scope(Deal).includes(:shipment)
policy_scope(Deal)
continue
all_won_deals.includes(:shipment).where(shipments: {transit_status: 'in-transit'})
all_won_deals.includes(:shipments).where(shipments: {transit_status: 'in-transit'})
all_won_deals.includes(:shipment).where(shipments: {transit_status: 'in-transit'})
all_won_deals.includes(:shipment).where(shipments: {transit_status: 'in-transit'}).count
all_won_deals.includes(:shipment).where(shipments: {transit_status: 'in-transit'})
all_won_deals.includes(:shipment).where('shipments.transit_status="in-transit"')
all_won_deals.includes(:shipment)
all_won_deals.include(:shipment)
all_won_deals.count
all_won_deals
policy_scope(Deal).where(deal_status: 'won')
policy_scope(Deal)
Deal.includes(:shipment).where(shipments: {transit_status: 'in-transit'})
policy_scope(Deal).includes(:shipment).(shipments: {transit_status: 'in-transit'})
all_won_deals.includes(:shipment).(shipments: {transit_status: 'in-transit'})
all_won_deals.count
all_won_deals
continue
@deals.first.shipment
@deals.first
@deals
exit
@deals
exit
@deals
continue
exit
@deals
@deals.joins(:shipment).where('shipments.shipment_status="in-transit"')
@deals.includes(:shipment).where('shipments.shipment_status="in-transit"')
@deals.includes(:shipment).where('shipment.shipment_status="in-transit"')
@deals.joins(:shipment).where('shipment.shipment_status="in-transit"')
@deals.joins(:shipment).where('dshipment.shipment_status="in-transit"')
@deals.joins(:shipments).where('dshipment.shipment_status="in-transit"')
@deals.include(:shipment)
@deals.join(:shipment)
@deals
@deals.join(:shipments).where('dshipment.shipment_status="in-transit"')
@deals.join(:shipment).where('dshipment.shipment_status="in-transit"')
@deals.join(:shipment).where('deals.shipment.shipment_status="in-transit"')
@deals.where('deals.shipment.shipment_status="in-transit"')
@deals.where('deals.shipments.shipment_status="in-transit"')
@deals.where('deal.shipments.shipment_status="in-transit"')
@deals.where('shipments.shipment_status="in-transit"')
@deals.where('shipment.shipment_status="in-transit"')
@deals.where('deal.shipment_status="in-transit"')
@deals
exit
policy_scope(Deal).includes(:shipment).where('shipments.transit_status="in-transit"')
reload!
policy_scope(Deal).includes(:shipment).where('shipments.transit_status="in-transit"')
policy_scope(Deal).includes(:shipment).where('shipments.transit_status="in-transit'")
policy_scope(Deal).includes(:shipment)
policy_scope(Deal)
a
a = @deals.includes(:shipment).where(transit_status: 'in-transit')
@deals.includes(:shipment).where(transit_status: 'in-transit')
@deals.includes(:shipment)
@deals
continue
deal_params[:id]
deal_params
params
exit
shipment_params[:shipment_id]
params
paramas
shipment_params[:shipment_id]
shipment_params
exit
shipment_params
exit
shipment_params
exit
shipment_params
exit
params[:shipment_id]
shipment_params
params
exit
deal_params
params
exit
shipment_params
params
continue
@deal
continue
policy_scope(Deal).where(deal_status: 'won')
continue
user
exit
deal.carrier
deal
exit
carrier_params[:carrier_id]
deal.carrier_id
exit
continue
carrier_params
params
exit
carrier_params
carrier_params[:carrier].id
carrier_params[:carrier]
deal.carrier
exit
carrier_params[:carrier]
carrier_params
exit
params[:shipment][:carrier]
params[:shipment]
params
exit
params[:"/shipper/shipments/34"]
params[:/shipper/shipments/34"]
params[:carrier]
params[:shipment]
params
exit
params
exit
params
continue
params
continue
current_shipper.present?
current_shipper
continue
authorize @shipment
authorize
authrorize
@shipment
continue
policy_scope(Shipment).where(shipper: current_shipper)
clean
policy_scope(Shipment).where(shipper: current_shipper)
policy_scope(Shipment).find_by(shipper: current_shipper)
policy_scope(Shipment)
continue
current_carrier.deals.find(1)
current_carrier.deals
current_carrier.deals.find
current_carrier.deals.find(@shipment)
current_carrier.deals
@carrier_deal
continue
@carrier_deal
continue
@message
continue
@message
continue
@message
continue
deal.deal_status
deal
deal = current_carrier.deals.find_by(shipment: @shipment)
current_carrier.deals.find_by(shipment: @shipment)
current_carrier.deals.first.shipmen
current_carrier.deals.find_by(shipment: @shipment)
current_carrier.deals.find_by(shipment_id: @shipment)
current_carrier.deals.find_by(@shipment)
current_carrier.deals.find_by(shipment_id: @shipment)
current_carrier.deals.find_by(shipment: @shipment)
current_carrier.deals.find_by(shipment_id: @shipment)
current_carrier.deals.find_by(shipment_id: @shipment.id)
current_carrier.deals.find_by(shipment_id: @shipment)
current_carrier.deals.find_by(shipment_id: 35)
current_carrier.deals.find_by(@shipment)
current_carrier.deals
current_carrier.deals.find(35)
@shipment.id
current_carrier.deals.find(@shipment.id)
current_carrier.deals.find(@shipment)
@shipment
current_carrier.deals
current_carrier
continue
current_carrier
current_user.deals
current_user
continue
current_user.deals
current_user
current_shipper
current_carrier
continue
@deal
exit
deal_params
@shipment
continue
shipment_params
exit
deal_params
exit
params[:shipment_id]
params
